------Lista de Comandos SQL---------


Para que serve?
Adicionar colunas de agrega√ß√£o para parte dos dados da consulta (janela)
√â poss√≠vel retornar todos dados da tabela 
colunas de agrega√ß√£o s√£o de apenas parte da sele√ß√£o (janela)
Menos complexo que utilizar uma subquery para calcular a agrega√ß√£o

Uso
<Fun√ß√£o de agrega√ß√£o>(<coluna>) OVER (PARTITION BY <lista de colunas da janela>) 
AVG(preco) OVER (PARTITION BY id_marca, id_tipo)

üí°A lista de colunas de parti√ß√£o seria a mesma utilizada pelo GROUP BY



SELECT m.descricao marca, t.descricao AS tipo,
     tam.descricao AS tamanho, c.descricao cor,
     AVG(preco) OVER(PARTITION BY cat.id_marca, cat.id_tipo) AS media_preco_por_tipo_e_marca,
     AVG(estoque) OVER(PARTITION BY cat.id_marca, cat.id_tipo) AS media_estoque_por_tipo_e_marca
  FROM Catalogo cat
  JOIN Marca m on cat.id_marca = m.id
  JOIN Tipo AS t on cat.id_tipo = t.id
  JOIN Tamanho tam on cat.id_tamanho = tam.id
  JOIN Cor c on cat.id_cor = c.id;
